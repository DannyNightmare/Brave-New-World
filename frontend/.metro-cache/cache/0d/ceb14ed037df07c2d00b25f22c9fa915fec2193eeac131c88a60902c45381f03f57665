{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":39,"index":129}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.UserProvider = UserProvider;\n  exports.useUser = useUser;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function UserProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const createUser = async username => {\n      try {\n        const response = await fetch(`${API_URL}/api/users`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username\n          })\n        });\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to create user:', error);\n      }\n    };\n    const refreshUser = async () => {\n      if (!user?.id) return;\n      try {\n        const response = await fetch(`${API_URL}/api/users/${user.id}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      // Auto-create a demo user for MVP\n      const initUser = async () => {\n        try {\n          const response = await fetch(`${API_URL}/api/users`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'Hero'\n            })\n          });\n          const data = await response.json();\n          setUser(data);\n        } catch (error) {\n          console.error('Failed to init user:', error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      initUser();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        refreshUser,\n        createUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  }\n  _s(UserProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = UserProvider;\n  function useUser() {\n    _s2();\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  }\n  _s2(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"UserProvider\");\n});","lineCount":106,"map":[[15,2,27,0,"exports"],[15,9,27,0],[15,10,27,0,"UserProvider"],[15,22,27,0],[15,25,27,0,"UserProvider"],[15,37,27,0],[16,2,83,0,"exports"],[16,9,83,0],[16,10,83,0,"useUser"],[16,17,83,0],[16,20,83,0,"useUser"],[16,27,83,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_expoConstants"],[18,20,2,0],[18,23,2,0,"require"],[18,30,2,0],[18,31,2,0,"_dependencyMap"],[18,45,2,0],[19,2,2,0],[19,6,2,0,"Constants"],[19,15,2,0],[19,18,2,0,"_interopDefault"],[19,33,2,0],[19,34,2,0,"_expoConstants"],[19,48,2,0],[20,2,2,39],[20,6,2,39,"_reactJsxDevRuntime"],[20,25,2,39],[20,28,2,39,"require"],[20,35,2,39],[20,36,2,39,"_dependencyMap"],[20,50,2,39],[21,2,4,0],[21,8,4,6,"API_URL"],[21,15,4,13],[21,18,4,16,"Constants"],[21,27,4,25],[21,28,4,25,"default"],[21,35,4,25],[21,36,4,26,"expoConfig"],[21,46,4,36],[21,48,4,38,"extra"],[21,53,4,43],[21,55,4,45,"EXPO_PUBLIC_BACKEND_URL"],[21,78,4,68],[21,82,4,72],[21,84,4,74],[22,2,25,0],[22,8,25,6,"UserContext"],[22,19,25,17],[22,35,25,20],[22,39,25,20,"createContext"],[22,45,25,33],[22,46,25,33,"createContext"],[22,59,25,33],[22,61,25,63,"undefined"],[22,70,25,72],[22,71,25,73],[23,2,27,7],[23,11,27,16,"UserProvider"],[23,23,27,28,"UserProvider"],[23,24,27,29],[24,4,27,31,"children"],[25,2,27,65],[25,3,27,66],[25,5,27,68],[26,4,27,68,"_s"],[26,6,27,68],[27,4,28,2],[27,10,28,8],[27,11,28,9,"user"],[27,15,28,13],[27,17,28,15,"setUser"],[27,24,28,22],[27,25,28,23],[27,28,28,26],[27,32,28,26,"useState"],[27,38,28,34],[27,39,28,34,"useState"],[27,47,28,34],[27,49,28,48],[27,53,28,52],[27,54,28,53],[28,4,29,2],[28,10,29,8],[28,11,29,9,"loading"],[28,18,29,16],[28,20,29,18,"setLoading"],[28,30,29,28],[28,31,29,29],[28,34,29,32],[28,38,29,32,"useState"],[28,44,29,40],[28,45,29,40,"useState"],[28,53,29,40],[28,55,29,41],[28,59,29,45],[28,60,29,46],[29,4,31,2],[29,10,31,8,"createUser"],[29,20,31,18],[29,23,31,21],[29,29,31,28,"username"],[29,37,31,44],[29,41,31,49],[30,6,32,4],[30,10,32,8],[31,8,33,6],[31,14,33,12,"response"],[31,22,33,20],[31,25,33,23],[31,31,33,29,"fetch"],[31,36,33,34],[31,37,33,35],[31,40,33,38,"API_URL"],[31,47,33,45],[31,59,33,57],[31,61,33,59],[32,10,34,8,"method"],[32,16,34,14],[32,18,34,16],[32,24,34,22],[33,10,35,8,"headers"],[33,17,35,15],[33,19,35,17],[34,12,35,19],[34,26,35,33],[34,28,35,35],[35,10,35,54],[35,11,35,55],[36,10,36,8,"body"],[36,14,36,12],[36,16,36,14,"JSON"],[36,20,36,18],[36,21,36,19,"stringify"],[36,30,36,28],[36,31,36,29],[37,12,36,31,"username"],[38,10,36,40],[38,11,36,41],[39,8,37,6],[39,9,37,7],[39,10,37,8],[40,8,38,6],[40,14,38,12,"data"],[40,18,38,16],[40,21,38,19],[40,27,38,25,"response"],[40,35,38,33],[40,36,38,34,"json"],[40,40,38,38],[40,41,38,39],[40,42,38,40],[41,8,39,6,"setUser"],[41,15,39,13],[41,16,39,14,"data"],[41,20,39,18],[41,21,39,19],[42,6,40,4],[42,7,40,5],[42,8,40,6],[42,15,40,13,"error"],[42,20,40,18],[42,22,40,20],[43,8,41,6,"console"],[43,15,41,13],[43,16,41,14,"error"],[43,21,41,19],[43,22,41,20],[43,46,41,44],[43,48,41,46,"error"],[43,53,41,51],[43,54,41,52],[44,6,42,4],[45,4,43,2],[45,5,43,3],[46,4,45,2],[46,10,45,8,"refreshUser"],[46,21,45,19],[46,24,45,22],[46,30,45,22,"refreshUser"],[46,31,45,22],[46,36,45,34],[47,6,46,4],[47,10,46,8],[47,11,46,9,"user"],[47,15,46,13],[47,17,46,15,"id"],[47,19,46,17],[47,21,46,19],[48,6,47,4],[48,10,47,8],[49,8,48,6],[49,14,48,12,"response"],[49,22,48,20],[49,25,48,23],[49,31,48,29,"fetch"],[49,36,48,34],[49,37,48,35],[49,40,48,38,"API_URL"],[49,47,48,45],[49,61,48,59,"user"],[49,65,48,63],[49,66,48,64,"id"],[49,68,48,66],[49,70,48,68],[49,71,48,69],[50,8,49,6],[50,14,49,12,"data"],[50,18,49,16],[50,21,49,19],[50,27,49,25,"response"],[50,35,49,33],[50,36,49,34,"json"],[50,40,49,38],[50,41,49,39],[50,42,49,40],[51,8,50,6,"setUser"],[51,15,50,13],[51,16,50,14,"data"],[51,20,50,18],[51,21,50,19],[52,6,51,4],[52,7,51,5],[52,8,51,6],[52,15,51,13,"error"],[52,20,51,18],[52,22,51,20],[53,8,52,6,"console"],[53,15,52,13],[53,16,52,14,"error"],[53,21,52,19],[53,22,52,20],[53,47,52,45],[53,49,52,47,"error"],[53,54,52,52],[53,55,52,53],[54,6,53,4],[55,4,54,2],[55,5,54,3],[56,4,56,2],[56,8,56,2,"useEffect"],[56,14,56,11],[56,15,56,11,"useEffect"],[56,24,56,11],[56,26,56,12],[56,32,56,18],[57,6,57,4],[58,6,58,4],[58,12,58,10,"initUser"],[58,20,58,18],[58,23,58,21],[58,29,58,21,"initUser"],[58,30,58,21],[58,35,58,33],[59,8,59,6],[59,12,59,10],[60,10,60,8],[60,16,60,14,"response"],[60,24,60,22],[60,27,60,25],[60,33,60,31,"fetch"],[60,38,60,36],[60,39,60,37],[60,42,60,40,"API_URL"],[60,49,60,47],[60,61,60,59],[60,63,60,61],[61,12,61,10,"method"],[61,18,61,16],[61,20,61,18],[61,26,61,24],[62,12,62,10,"headers"],[62,19,62,17],[62,21,62,19],[63,14,62,21],[63,28,62,35],[63,30,62,37],[64,12,62,56],[64,13,62,57],[65,12,63,10,"body"],[65,16,63,14],[65,18,63,16,"JSON"],[65,22,63,20],[65,23,63,21,"stringify"],[65,32,63,30],[65,33,63,31],[66,14,63,33,"username"],[66,22,63,41],[66,24,63,43],[67,12,63,50],[67,13,63,51],[68,10,64,8],[68,11,64,9],[68,12,64,10],[69,10,65,8],[69,16,65,14,"data"],[69,20,65,18],[69,23,65,21],[69,29,65,27,"response"],[69,37,65,35],[69,38,65,36,"json"],[69,42,65,40],[69,43,65,41],[69,44,65,42],[70,10,66,8,"setUser"],[70,17,66,15],[70,18,66,16,"data"],[70,22,66,20],[70,23,66,21],[71,8,67,6],[71,9,67,7],[71,10,67,8],[71,17,67,15,"error"],[71,22,67,20],[71,24,67,22],[72,10,68,8,"console"],[72,17,68,15],[72,18,68,16,"error"],[72,23,68,21],[72,24,68,22],[72,46,68,44],[72,48,68,46,"error"],[72,53,68,51],[72,54,68,52],[73,8,69,6],[73,9,69,7],[73,18,69,16],[74,10,70,8,"setLoading"],[74,20,70,18],[74,21,70,19],[74,26,70,24],[74,27,70,25],[75,8,71,6],[76,6,72,4],[76,7,72,5],[77,6,73,4,"initUser"],[77,14,73,12],[77,15,73,13],[77,16,73,14],[78,4,74,2],[78,5,74,3],[78,7,74,5],[78,9,74,7],[78,10,74,8],[79,4,76,2],[79,24,77,4],[79,28,77,4,"_reactJsxDevRuntime"],[79,47,77,4],[79,48,77,4,"jsxDEV"],[79,54,77,4],[79,56,77,5,"UserContext"],[79,67,77,16],[79,68,77,17,"Provider"],[79,76,77,25],[80,6,77,26,"value"],[80,11,77,31],[80,13,77,33],[81,8,77,35,"user"],[81,12,77,39],[82,8,77,41,"loading"],[82,15,77,48],[83,8,77,50,"refreshUser"],[83,19,77,61],[84,8,77,63,"createUser"],[85,6,77,74],[85,7,77,76],[86,6,77,76,"children"],[86,14,77,76],[86,16,78,7,"children"],[87,4,78,15],[88,6,78,15,"fileName"],[88,14,78,15],[88,16,78,15,"_jsxFileName"],[88,28,78,15],[89,6,78,15,"lineNumber"],[89,16,78,15],[90,6,78,15,"columnNumber"],[90,18,78,15],[91,4,78,15],[91,11,79,26],[91,12,79,27],[92,2,81,0],[93,2,81,1,"_s"],[93,4,81,1],[93,5,27,16,"UserProvider"],[93,17,27,28],[94,2,27,28,"_c"],[94,4,27,28],[94,7,27,16,"UserProvider"],[94,19,27,28],[95,2,83,7],[95,11,83,16,"useUser"],[95,18,83,23,"useUser"],[95,19,83,23],[95,21,83,26],[96,4,83,26,"_s2"],[96,7,83,26],[97,4,84,2],[97,10,84,8,"context"],[97,17,84,15],[97,20,84,18],[97,24,84,18,"useContext"],[97,30,84,28],[97,31,84,28,"useContext"],[97,41,84,28],[97,43,84,29,"UserContext"],[97,54,84,40],[97,55,84,41],[98,4,85,2],[98,8,85,6,"context"],[98,15,85,13],[98,20,85,18,"undefined"],[98,29,85,27],[98,31,85,29],[99,6,86,4],[99,12,86,10],[99,16,86,14,"Error"],[99,21,86,19],[99,22,86,20],[99,66,86,64],[99,67,86,65],[100,4,87,2],[101,4,88,2],[101,11,88,9,"context"],[101,18,88,16],[102,2,89,0],[103,2,89,1,"_s2"],[103,5,89,1],[103,6,83,16,"useUser"],[103,13,83,23],[104,2,83,23],[104,6,83,23,"_c"],[104,8,83,23],[105,2,83,23,"$RefreshReg$"],[105,14,83,23],[105,15,83,23,"_c"],[105,17,83,23],[106,0,83,23],[106,3]],"functionMap":{"names":["<global>","UserProvider","createUser","refreshUser","useEffect$argument_0","initUser","useUser"],"mappings":"AAA;OC0B;qBCI;GDY;sBEE;GFS;YGE;qBCE;KDc;GHE;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}