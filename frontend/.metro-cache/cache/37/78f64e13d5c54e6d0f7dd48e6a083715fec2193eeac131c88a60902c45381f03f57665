{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":39,"index":129}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.UserProvider = UserProvider;\n  exports.useUser = useUser;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function UserProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const createUser = async username => {\n      try {\n        const response = await fetch(`${API_URL}/api/users`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username\n          })\n        });\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to create user:', error);\n      }\n    };\n    const refreshUser = async () => {\n      if (!user?.id) return;\n      try {\n        const response = await fetch(`${API_URL}/api/users/${user.id}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      // Auto-create a demo user for MVP\n      const initUser = async () => {\n        try {\n          const response = await fetch(`${API_URL}/api/users`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'Hero'\n            })\n          });\n          const data = await response.json();\n          setUser(data);\n        } catch (error) {\n          console.error('Failed to init user:', error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      initUser();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        refreshUser,\n        createUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  }\n  function useUser() {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  }\n});","lineCount":97,"map":[[13,2,27,0,"exports"],[13,9,27,0],[13,10,27,0,"UserProvider"],[13,22,27,0],[13,25,27,0,"UserProvider"],[13,37,27,0],[14,2,83,0,"exports"],[14,9,83,0],[14,10,83,0,"useUser"],[14,17,83,0],[14,20,83,0,"useUser"],[14,27,83,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_expoConstants"],[16,20,2,0],[16,23,2,0,"require"],[16,30,2,0],[16,31,2,0,"_dependencyMap"],[16,45,2,0],[17,2,2,0],[17,6,2,0,"Constants"],[17,15,2,0],[17,18,2,0,"_interopDefault"],[17,33,2,0],[17,34,2,0,"_expoConstants"],[17,48,2,0],[18,2,2,39],[18,6,2,39,"_reactJsxDevRuntime"],[18,25,2,39],[18,28,2,39,"require"],[18,35,2,39],[18,36,2,39,"_dependencyMap"],[18,50,2,39],[19,2,4,0],[19,8,4,6,"API_URL"],[19,15,4,13],[19,18,4,16,"Constants"],[19,27,4,25],[19,28,4,25,"default"],[19,35,4,25],[19,36,4,26,"expoConfig"],[19,46,4,36],[19,48,4,38,"extra"],[19,53,4,43],[19,55,4,45,"EXPO_PUBLIC_BACKEND_URL"],[19,78,4,68],[19,82,4,72],[19,84,4,74],[20,2,25,0],[20,8,25,6,"UserContext"],[20,19,25,17],[20,35,25,20],[20,39,25,20,"createContext"],[20,45,25,33],[20,46,25,33,"createContext"],[20,59,25,33],[20,61,25,63,"undefined"],[20,70,25,72],[20,71,25,73],[21,2,27,7],[21,11,27,16,"UserProvider"],[21,23,27,28,"UserProvider"],[21,24,27,29],[22,4,27,31,"children"],[23,2,27,65],[23,3,27,66],[23,5,27,68],[24,4,28,2],[24,10,28,8],[24,11,28,9,"user"],[24,15,28,13],[24,17,28,15,"setUser"],[24,24,28,22],[24,25,28,23],[24,28,28,26],[24,32,28,26,"useState"],[24,38,28,34],[24,39,28,34,"useState"],[24,47,28,34],[24,49,28,48],[24,53,28,52],[24,54,28,53],[25,4,29,2],[25,10,29,8],[25,11,29,9,"loading"],[25,18,29,16],[25,20,29,18,"setLoading"],[25,30,29,28],[25,31,29,29],[25,34,29,32],[25,38,29,32,"useState"],[25,44,29,40],[25,45,29,40,"useState"],[25,53,29,40],[25,55,29,41],[25,59,29,45],[25,60,29,46],[26,4,31,2],[26,10,31,8,"createUser"],[26,20,31,18],[26,23,31,21],[26,29,31,28,"username"],[26,37,31,44],[26,41,31,49],[27,6,32,4],[27,10,32,8],[28,8,33,6],[28,14,33,12,"response"],[28,22,33,20],[28,25,33,23],[28,31,33,29,"fetch"],[28,36,33,34],[28,37,33,35],[28,40,33,38,"API_URL"],[28,47,33,45],[28,59,33,57],[28,61,33,59],[29,10,34,8,"method"],[29,16,34,14],[29,18,34,16],[29,24,34,22],[30,10,35,8,"headers"],[30,17,35,15],[30,19,35,17],[31,12,35,19],[31,26,35,33],[31,28,35,35],[32,10,35,54],[32,11,35,55],[33,10,36,8,"body"],[33,14,36,12],[33,16,36,14,"JSON"],[33,20,36,18],[33,21,36,19,"stringify"],[33,30,36,28],[33,31,36,29],[34,12,36,31,"username"],[35,10,36,40],[35,11,36,41],[36,8,37,6],[36,9,37,7],[36,10,37,8],[37,8,38,6],[37,14,38,12,"data"],[37,18,38,16],[37,21,38,19],[37,27,38,25,"response"],[37,35,38,33],[37,36,38,34,"json"],[37,40,38,38],[37,41,38,39],[37,42,38,40],[38,8,39,6,"setUser"],[38,15,39,13],[38,16,39,14,"data"],[38,20,39,18],[38,21,39,19],[39,6,40,4],[39,7,40,5],[39,8,40,6],[39,15,40,13,"error"],[39,20,40,18],[39,22,40,20],[40,8,41,6,"console"],[40,15,41,13],[40,16,41,14,"error"],[40,21,41,19],[40,22,41,20],[40,46,41,44],[40,48,41,46,"error"],[40,53,41,51],[40,54,41,52],[41,6,42,4],[42,4,43,2],[42,5,43,3],[43,4,45,2],[43,10,45,8,"refreshUser"],[43,21,45,19],[43,24,45,22],[43,30,45,22,"refreshUser"],[43,31,45,22],[43,36,45,34],[44,6,46,4],[44,10,46,8],[44,11,46,9,"user"],[44,15,46,13],[44,17,46,15,"id"],[44,19,46,17],[44,21,46,19],[45,6,47,4],[45,10,47,8],[46,8,48,6],[46,14,48,12,"response"],[46,22,48,20],[46,25,48,23],[46,31,48,29,"fetch"],[46,36,48,34],[46,37,48,35],[46,40,48,38,"API_URL"],[46,47,48,45],[46,61,48,59,"user"],[46,65,48,63],[46,66,48,64,"id"],[46,68,48,66],[46,70,48,68],[46,71,48,69],[47,8,49,6],[47,14,49,12,"data"],[47,18,49,16],[47,21,49,19],[47,27,49,25,"response"],[47,35,49,33],[47,36,49,34,"json"],[47,40,49,38],[47,41,49,39],[47,42,49,40],[48,8,50,6,"setUser"],[48,15,50,13],[48,16,50,14,"data"],[48,20,50,18],[48,21,50,19],[49,6,51,4],[49,7,51,5],[49,8,51,6],[49,15,51,13,"error"],[49,20,51,18],[49,22,51,20],[50,8,52,6,"console"],[50,15,52,13],[50,16,52,14,"error"],[50,21,52,19],[50,22,52,20],[50,47,52,45],[50,49,52,47,"error"],[50,54,52,52],[50,55,52,53],[51,6,53,4],[52,4,54,2],[52,5,54,3],[53,4,56,2],[53,8,56,2,"useEffect"],[53,14,56,11],[53,15,56,11,"useEffect"],[53,24,56,11],[53,26,56,12],[53,32,56,18],[54,6,57,4],[55,6,58,4],[55,12,58,10,"initUser"],[55,20,58,18],[55,23,58,21],[55,29,58,21,"initUser"],[55,30,58,21],[55,35,58,33],[56,8,59,6],[56,12,59,10],[57,10,60,8],[57,16,60,14,"response"],[57,24,60,22],[57,27,60,25],[57,33,60,31,"fetch"],[57,38,60,36],[57,39,60,37],[57,42,60,40,"API_URL"],[57,49,60,47],[57,61,60,59],[57,63,60,61],[58,12,61,10,"method"],[58,18,61,16],[58,20,61,18],[58,26,61,24],[59,12,62,10,"headers"],[59,19,62,17],[59,21,62,19],[60,14,62,21],[60,28,62,35],[60,30,62,37],[61,12,62,56],[61,13,62,57],[62,12,63,10,"body"],[62,16,63,14],[62,18,63,16,"JSON"],[62,22,63,20],[62,23,63,21,"stringify"],[62,32,63,30],[62,33,63,31],[63,14,63,33,"username"],[63,22,63,41],[63,24,63,43],[64,12,63,50],[64,13,63,51],[65,10,64,8],[65,11,64,9],[65,12,64,10],[66,10,65,8],[66,16,65,14,"data"],[66,20,65,18],[66,23,65,21],[66,29,65,27,"response"],[66,37,65,35],[66,38,65,36,"json"],[66,42,65,40],[66,43,65,41],[66,44,65,42],[67,10,66,8,"setUser"],[67,17,66,15],[67,18,66,16,"data"],[67,22,66,20],[67,23,66,21],[68,8,67,6],[68,9,67,7],[68,10,67,8],[68,17,67,15,"error"],[68,22,67,20],[68,24,67,22],[69,10,68,8,"console"],[69,17,68,15],[69,18,68,16,"error"],[69,23,68,21],[69,24,68,22],[69,46,68,44],[69,48,68,46,"error"],[69,53,68,51],[69,54,68,52],[70,8,69,6],[70,9,69,7],[70,18,69,16],[71,10,70,8,"setLoading"],[71,20,70,18],[71,21,70,19],[71,26,70,24],[71,27,70,25],[72,8,71,6],[73,6,72,4],[73,7,72,5],[74,6,73,4,"initUser"],[74,14,73,12],[74,15,73,13],[74,16,73,14],[75,4,74,2],[75,5,74,3],[75,7,74,5],[75,9,74,7],[75,10,74,8],[76,4,76,2],[76,24,77,4],[76,28,77,4,"_reactJsxDevRuntime"],[76,47,77,4],[76,48,77,4,"jsxDEV"],[76,54,77,4],[76,56,77,5,"UserContext"],[76,67,77,16],[76,68,77,17,"Provider"],[76,76,77,25],[77,6,77,26,"value"],[77,11,77,31],[77,13,77,33],[78,8,77,35,"user"],[78,12,77,39],[79,8,77,41,"loading"],[79,15,77,48],[80,8,77,50,"refreshUser"],[80,19,77,61],[81,8,77,63,"createUser"],[82,6,77,74],[82,7,77,76],[83,6,77,76,"children"],[83,14,77,76],[83,16,78,7,"children"],[84,4,78,15],[85,6,78,15,"fileName"],[85,14,78,15],[85,16,78,15,"_jsxFileName"],[85,28,78,15],[86,6,78,15,"lineNumber"],[86,16,78,15],[87,6,78,15,"columnNumber"],[87,18,78,15],[88,4,78,15],[88,11,79,26],[88,12,79,27],[89,2,81,0],[90,2,83,7],[90,11,83,16,"useUser"],[90,18,83,23,"useUser"],[90,19,83,23],[90,21,83,26],[91,4,84,2],[91,10,84,8,"context"],[91,17,84,15],[91,20,84,18],[91,24,84,18,"useContext"],[91,30,84,28],[91,31,84,28,"useContext"],[91,41,84,28],[91,43,84,29,"UserContext"],[91,54,84,40],[91,55,84,41],[92,4,85,2],[92,8,85,6,"context"],[92,15,85,13],[92,20,85,18,"undefined"],[92,29,85,27],[92,31,85,29],[93,6,86,4],[93,12,86,10],[93,16,86,14,"Error"],[93,21,86,19],[93,22,86,20],[93,66,86,64],[93,67,86,65],[94,4,87,2],[95,4,88,2],[95,11,88,9,"context"],[95,18,88,16],[96,2,89,0],[97,0,89,1],[97,3]],"functionMap":{"names":["<global>","UserProvider","createUser","refreshUser","useEffect$argument_0","initUser","useUser"],"mappings":"AAA;OC0B;qBCI;GDY;sBEE;GFS;YGE;qBCE;KDc;GHE;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}