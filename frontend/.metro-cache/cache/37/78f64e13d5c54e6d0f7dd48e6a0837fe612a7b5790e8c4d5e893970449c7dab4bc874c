{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":39,"index":129}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.UserProvider = UserProvider;\n  exports.useUser = useUser;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function UserProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const createUser = async username => {\n      try {\n        const response = await fetch(`${API_URL}/api/users`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username\n          })\n        });\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to create user:', error);\n      }\n    };\n    const refreshUser = async () => {\n      if (!user?.id) return;\n      try {\n        const response = await fetch(`${API_URL}/api/users/${user.id}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      // Auto-create a demo user for MVP\n      const initUser = async () => {\n        try {\n          const response = await fetch(`${API_URL}/api/users`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'Hero'\n            })\n          });\n          const data = await response.json();\n          setUser(data);\n        } catch (error) {\n          console.error('Failed to init user:', error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      initUser();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        refreshUser,\n        createUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  }\n  function useUser() {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  }\n});","lineCount":97,"map":[[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"UserProvider"],[13,22,26,0],[13,25,26,0,"UserProvider"],[13,37,26,0],[14,2,82,0,"exports"],[14,9,82,0],[14,10,82,0,"useUser"],[14,17,82,0],[14,20,82,0,"useUser"],[14,27,82,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_expoConstants"],[16,20,2,0],[16,23,2,0,"require"],[16,30,2,0],[16,31,2,0,"_dependencyMap"],[16,45,2,0],[17,2,2,0],[17,6,2,0,"Constants"],[17,15,2,0],[17,18,2,0,"_interopDefault"],[17,33,2,0],[17,34,2,0,"_expoConstants"],[17,48,2,0],[18,2,2,39],[18,6,2,39,"_reactJsxDevRuntime"],[18,25,2,39],[18,28,2,39,"require"],[18,35,2,39],[18,36,2,39,"_dependencyMap"],[18,50,2,39],[19,2,4,0],[19,8,4,6,"API_URL"],[19,15,4,13],[19,18,4,16,"Constants"],[19,27,4,25],[19,28,4,25,"default"],[19,35,4,25],[19,36,4,26,"expoConfig"],[19,46,4,36],[19,48,4,38,"extra"],[19,53,4,43],[19,55,4,45,"EXPO_PUBLIC_BACKEND_URL"],[19,78,4,68],[19,82,4,72],[19,84,4,74],[20,2,24,0],[20,8,24,6,"UserContext"],[20,19,24,17],[20,35,24,20],[20,39,24,20,"createContext"],[20,45,24,33],[20,46,24,33,"createContext"],[20,59,24,33],[20,61,24,63,"undefined"],[20,70,24,72],[20,71,24,73],[21,2,26,7],[21,11,26,16,"UserProvider"],[21,23,26,28,"UserProvider"],[21,24,26,29],[22,4,26,31,"children"],[23,2,26,65],[23,3,26,66],[23,5,26,68],[24,4,27,2],[24,10,27,8],[24,11,27,9,"user"],[24,15,27,13],[24,17,27,15,"setUser"],[24,24,27,22],[24,25,27,23],[24,28,27,26],[24,32,27,26,"useState"],[24,38,27,34],[24,39,27,34,"useState"],[24,47,27,34],[24,49,27,48],[24,53,27,52],[24,54,27,53],[25,4,28,2],[25,10,28,8],[25,11,28,9,"loading"],[25,18,28,16],[25,20,28,18,"setLoading"],[25,30,28,28],[25,31,28,29],[25,34,28,32],[25,38,28,32,"useState"],[25,44,28,40],[25,45,28,40,"useState"],[25,53,28,40],[25,55,28,41],[25,59,28,45],[25,60,28,46],[26,4,30,2],[26,10,30,8,"createUser"],[26,20,30,18],[26,23,30,21],[26,29,30,28,"username"],[26,37,30,44],[26,41,30,49],[27,6,31,4],[27,10,31,8],[28,8,32,6],[28,14,32,12,"response"],[28,22,32,20],[28,25,32,23],[28,31,32,29,"fetch"],[28,36,32,34],[28,37,32,35],[28,40,32,38,"API_URL"],[28,47,32,45],[28,59,32,57],[28,61,32,59],[29,10,33,8,"method"],[29,16,33,14],[29,18,33,16],[29,24,33,22],[30,10,34,8,"headers"],[30,17,34,15],[30,19,34,17],[31,12,34,19],[31,26,34,33],[31,28,34,35],[32,10,34,54],[32,11,34,55],[33,10,35,8,"body"],[33,14,35,12],[33,16,35,14,"JSON"],[33,20,35,18],[33,21,35,19,"stringify"],[33,30,35,28],[33,31,35,29],[34,12,35,31,"username"],[35,10,35,40],[35,11,35,41],[36,8,36,6],[36,9,36,7],[36,10,36,8],[37,8,37,6],[37,14,37,12,"data"],[37,18,37,16],[37,21,37,19],[37,27,37,25,"response"],[37,35,37,33],[37,36,37,34,"json"],[37,40,37,38],[37,41,37,39],[37,42,37,40],[38,8,38,6,"setUser"],[38,15,38,13],[38,16,38,14,"data"],[38,20,38,18],[38,21,38,19],[39,6,39,4],[39,7,39,5],[39,8,39,6],[39,15,39,13,"error"],[39,20,39,18],[39,22,39,20],[40,8,40,6,"console"],[40,15,40,13],[40,16,40,14,"error"],[40,21,40,19],[40,22,40,20],[40,46,40,44],[40,48,40,46,"error"],[40,53,40,51],[40,54,40,52],[41,6,41,4],[42,4,42,2],[42,5,42,3],[43,4,44,2],[43,10,44,8,"refreshUser"],[43,21,44,19],[43,24,44,22],[43,30,44,22,"refreshUser"],[43,31,44,22],[43,36,44,34],[44,6,45,4],[44,10,45,8],[44,11,45,9,"user"],[44,15,45,13],[44,17,45,15,"id"],[44,19,45,17],[44,21,45,19],[45,6,46,4],[45,10,46,8],[46,8,47,6],[46,14,47,12,"response"],[46,22,47,20],[46,25,47,23],[46,31,47,29,"fetch"],[46,36,47,34],[46,37,47,35],[46,40,47,38,"API_URL"],[46,47,47,45],[46,61,47,59,"user"],[46,65,47,63],[46,66,47,64,"id"],[46,68,47,66],[46,70,47,68],[46,71,47,69],[47,8,48,6],[47,14,48,12,"data"],[47,18,48,16],[47,21,48,19],[47,27,48,25,"response"],[47,35,48,33],[47,36,48,34,"json"],[47,40,48,38],[47,41,48,39],[47,42,48,40],[48,8,49,6,"setUser"],[48,15,49,13],[48,16,49,14,"data"],[48,20,49,18],[48,21,49,19],[49,6,50,4],[49,7,50,5],[49,8,50,6],[49,15,50,13,"error"],[49,20,50,18],[49,22,50,20],[50,8,51,6,"console"],[50,15,51,13],[50,16,51,14,"error"],[50,21,51,19],[50,22,51,20],[50,47,51,45],[50,49,51,47,"error"],[50,54,51,52],[50,55,51,53],[51,6,52,4],[52,4,53,2],[52,5,53,3],[53,4,55,2],[53,8,55,2,"useEffect"],[53,14,55,11],[53,15,55,11,"useEffect"],[53,24,55,11],[53,26,55,12],[53,32,55,18],[54,6,56,4],[55,6,57,4],[55,12,57,10,"initUser"],[55,20,57,18],[55,23,57,21],[55,29,57,21,"initUser"],[55,30,57,21],[55,35,57,33],[56,8,58,6],[56,12,58,10],[57,10,59,8],[57,16,59,14,"response"],[57,24,59,22],[57,27,59,25],[57,33,59,31,"fetch"],[57,38,59,36],[57,39,59,37],[57,42,59,40,"API_URL"],[57,49,59,47],[57,61,59,59],[57,63,59,61],[58,12,60,10,"method"],[58,18,60,16],[58,20,60,18],[58,26,60,24],[59,12,61,10,"headers"],[59,19,61,17],[59,21,61,19],[60,14,61,21],[60,28,61,35],[60,30,61,37],[61,12,61,56],[61,13,61,57],[62,12,62,10,"body"],[62,16,62,14],[62,18,62,16,"JSON"],[62,22,62,20],[62,23,62,21,"stringify"],[62,32,62,30],[62,33,62,31],[63,14,62,33,"username"],[63,22,62,41],[63,24,62,43],[64,12,62,50],[64,13,62,51],[65,10,63,8],[65,11,63,9],[65,12,63,10],[66,10,64,8],[66,16,64,14,"data"],[66,20,64,18],[66,23,64,21],[66,29,64,27,"response"],[66,37,64,35],[66,38,64,36,"json"],[66,42,64,40],[66,43,64,41],[66,44,64,42],[67,10,65,8,"setUser"],[67,17,65,15],[67,18,65,16,"data"],[67,22,65,20],[67,23,65,21],[68,8,66,6],[68,9,66,7],[68,10,66,8],[68,17,66,15,"error"],[68,22,66,20],[68,24,66,22],[69,10,67,8,"console"],[69,17,67,15],[69,18,67,16,"error"],[69,23,67,21],[69,24,67,22],[69,46,67,44],[69,48,67,46,"error"],[69,53,67,51],[69,54,67,52],[70,8,68,6],[70,9,68,7],[70,18,68,16],[71,10,69,8,"setLoading"],[71,20,69,18],[71,21,69,19],[71,26,69,24],[71,27,69,25],[72,8,70,6],[73,6,71,4],[73,7,71,5],[74,6,72,4,"initUser"],[74,14,72,12],[74,15,72,13],[74,16,72,14],[75,4,73,2],[75,5,73,3],[75,7,73,5],[75,9,73,7],[75,10,73,8],[76,4,75,2],[76,24,76,4],[76,28,76,4,"_reactJsxDevRuntime"],[76,47,76,4],[76,48,76,4,"jsxDEV"],[76,54,76,4],[76,56,76,5,"UserContext"],[76,67,76,16],[76,68,76,17,"Provider"],[76,76,76,25],[77,6,76,26,"value"],[77,11,76,31],[77,13,76,33],[78,8,76,35,"user"],[78,12,76,39],[79,8,76,41,"loading"],[79,15,76,48],[80,8,76,50,"refreshUser"],[80,19,76,61],[81,8,76,63,"createUser"],[82,6,76,74],[82,7,76,76],[83,6,76,76,"children"],[83,14,76,76],[83,16,77,7,"children"],[84,4,77,15],[85,6,77,15,"fileName"],[85,14,77,15],[85,16,77,15,"_jsxFileName"],[85,28,77,15],[86,6,77,15,"lineNumber"],[86,16,77,15],[87,6,77,15,"columnNumber"],[87,18,77,15],[88,4,77,15],[88,11,78,26],[88,12,78,27],[89,2,80,0],[90,2,82,7],[90,11,82,16,"useUser"],[90,18,82,23,"useUser"],[90,19,82,23],[90,21,82,26],[91,4,83,2],[91,10,83,8,"context"],[91,17,83,15],[91,20,83,18],[91,24,83,18,"useContext"],[91,30,83,28],[91,31,83,28,"useContext"],[91,41,83,28],[91,43,83,29,"UserContext"],[91,54,83,40],[91,55,83,41],[92,4,84,2],[92,8,84,6,"context"],[92,15,84,13],[92,20,84,18,"undefined"],[92,29,84,27],[92,31,84,29],[93,6,85,4],[93,12,85,10],[93,16,85,14,"Error"],[93,21,85,19],[93,22,85,20],[93,66,85,64],[93,67,85,65],[94,4,86,2],[95,4,87,2],[95,11,87,9,"context"],[95,18,87,16],[96,2,88,0],[97,0,88,1],[97,3]],"functionMap":{"names":["<global>","UserProvider","createUser","refreshUser","useEffect$argument_0","initUser","useUser"],"mappings":"AAA;OCyB;qBCI;GDY;sBEE;GFS;YGE;qBCE;KDc;GHE;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}