{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.UserProvider = UserProvider;\n  exports.useUser = useUser;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactJsxDevRuntime = require(_dependencyMap[1], \"react/jsx-dev-runtime\");\n  const API_URL = 'https://questforge-25.preview.emergentagent.com';\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function UserProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const createUser = async username => {\n      try {\n        const response = await fetch(`${API_URL}/api/users`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username\n          })\n        });\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to create user:', error);\n      }\n    };\n    const refreshUser = async () => {\n      if (!user?.id) return;\n      try {\n        const response = await fetch(`${API_URL}/api/users/${user.id}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      // Auto-create a demo user for MVP\n      const initUser = async () => {\n        try {\n          const response = await fetch(`${API_URL}/api/users`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: 'Hero'\n            })\n          });\n          const data = await response.json();\n          setUser(data);\n        } catch (error) {\n          console.error('Failed to init user:', error);\n        } finally {\n          setLoading(false);\n        }\n      };\n      initUser();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        refreshUser,\n        createUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  }\n  function useUser() {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  }\n});","lineCount":90,"map":[[8,2,26,0,"exports"],[8,9,26,0],[8,10,26,0,"UserProvider"],[8,22,26,0],[8,25,26,0,"UserProvider"],[8,37,26,0],[9,2,82,0,"exports"],[9,9,82,0],[9,10,82,0,"useUser"],[9,17,82,0],[9,20,82,0,"useUser"],[9,27,82,0],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,1,89],[11,6,1,89,"_reactJsxDevRuntime"],[11,25,1,89],[11,28,1,89,"require"],[11,35,1,89],[11,36,1,89,"_dependencyMap"],[11,50,1,89],[12,2,3,0],[12,8,3,6,"API_URL"],[12,15,3,13],[12,18,3,16],[12,67,3,65],[13,2,24,0],[13,8,24,6,"UserContext"],[13,19,24,17],[13,35,24,20],[13,39,24,20,"createContext"],[13,45,24,33],[13,46,24,33,"createContext"],[13,59,24,33],[13,61,24,63,"undefined"],[13,70,24,72],[13,71,24,73],[14,2,26,7],[14,11,26,16,"UserProvider"],[14,23,26,28,"UserProvider"],[14,24,26,29],[15,4,26,31,"children"],[16,2,26,65],[16,3,26,66],[16,5,26,68],[17,4,27,2],[17,10,27,8],[17,11,27,9,"user"],[17,15,27,13],[17,17,27,15,"setUser"],[17,24,27,22],[17,25,27,23],[17,28,27,26],[17,32,27,26,"useState"],[17,38,27,34],[17,39,27,34,"useState"],[17,47,27,34],[17,49,27,48],[17,53,27,52],[17,54,27,53],[18,4,28,2],[18,10,28,8],[18,11,28,9,"loading"],[18,18,28,16],[18,20,28,18,"setLoading"],[18,30,28,28],[18,31,28,29],[18,34,28,32],[18,38,28,32,"useState"],[18,44,28,40],[18,45,28,40,"useState"],[18,53,28,40],[18,55,28,41],[18,59,28,45],[18,60,28,46],[19,4,30,2],[19,10,30,8,"createUser"],[19,20,30,18],[19,23,30,21],[19,29,30,28,"username"],[19,37,30,44],[19,41,30,49],[20,6,31,4],[20,10,31,8],[21,8,32,6],[21,14,32,12,"response"],[21,22,32,20],[21,25,32,23],[21,31,32,29,"fetch"],[21,36,32,34],[21,37,32,35],[21,40,32,38,"API_URL"],[21,47,32,45],[21,59,32,57],[21,61,32,59],[22,10,33,8,"method"],[22,16,33,14],[22,18,33,16],[22,24,33,22],[23,10,34,8,"headers"],[23,17,34,15],[23,19,34,17],[24,12,34,19],[24,26,34,33],[24,28,34,35],[25,10,34,54],[25,11,34,55],[26,10,35,8,"body"],[26,14,35,12],[26,16,35,14,"JSON"],[26,20,35,18],[26,21,35,19,"stringify"],[26,30,35,28],[26,31,35,29],[27,12,35,31,"username"],[28,10,35,40],[28,11,35,41],[29,8,36,6],[29,9,36,7],[29,10,36,8],[30,8,37,6],[30,14,37,12,"data"],[30,18,37,16],[30,21,37,19],[30,27,37,25,"response"],[30,35,37,33],[30,36,37,34,"json"],[30,40,37,38],[30,41,37,39],[30,42,37,40],[31,8,38,6,"setUser"],[31,15,38,13],[31,16,38,14,"data"],[31,20,38,18],[31,21,38,19],[32,6,39,4],[32,7,39,5],[32,8,39,6],[32,15,39,13,"error"],[32,20,39,18],[32,22,39,20],[33,8,40,6,"console"],[33,15,40,13],[33,16,40,14,"error"],[33,21,40,19],[33,22,40,20],[33,46,40,44],[33,48,40,46,"error"],[33,53,40,51],[33,54,40,52],[34,6,41,4],[35,4,42,2],[35,5,42,3],[36,4,44,2],[36,10,44,8,"refreshUser"],[36,21,44,19],[36,24,44,22],[36,30,44,22,"refreshUser"],[36,31,44,22],[36,36,44,34],[37,6,45,4],[37,10,45,8],[37,11,45,9,"user"],[37,15,45,13],[37,17,45,15,"id"],[37,19,45,17],[37,21,45,19],[38,6,46,4],[38,10,46,8],[39,8,47,6],[39,14,47,12,"response"],[39,22,47,20],[39,25,47,23],[39,31,47,29,"fetch"],[39,36,47,34],[39,37,47,35],[39,40,47,38,"API_URL"],[39,47,47,45],[39,61,47,59,"user"],[39,65,47,63],[39,66,47,64,"id"],[39,68,47,66],[39,70,47,68],[39,71,47,69],[40,8,48,6],[40,14,48,12,"data"],[40,18,48,16],[40,21,48,19],[40,27,48,25,"response"],[40,35,48,33],[40,36,48,34,"json"],[40,40,48,38],[40,41,48,39],[40,42,48,40],[41,8,49,6,"setUser"],[41,15,49,13],[41,16,49,14,"data"],[41,20,49,18],[41,21,49,19],[42,6,50,4],[42,7,50,5],[42,8,50,6],[42,15,50,13,"error"],[42,20,50,18],[42,22,50,20],[43,8,51,6,"console"],[43,15,51,13],[43,16,51,14,"error"],[43,21,51,19],[43,22,51,20],[43,47,51,45],[43,49,51,47,"error"],[43,54,51,52],[43,55,51,53],[44,6,52,4],[45,4,53,2],[45,5,53,3],[46,4,55,2],[46,8,55,2,"useEffect"],[46,14,55,11],[46,15,55,11,"useEffect"],[46,24,55,11],[46,26,55,12],[46,32,55,18],[47,6,56,4],[48,6,57,4],[48,12,57,10,"initUser"],[48,20,57,18],[48,23,57,21],[48,29,57,21,"initUser"],[48,30,57,21],[48,35,57,33],[49,8,58,6],[49,12,58,10],[50,10,59,8],[50,16,59,14,"response"],[50,24,59,22],[50,27,59,25],[50,33,59,31,"fetch"],[50,38,59,36],[50,39,59,37],[50,42,59,40,"API_URL"],[50,49,59,47],[50,61,59,59],[50,63,59,61],[51,12,60,10,"method"],[51,18,60,16],[51,20,60,18],[51,26,60,24],[52,12,61,10,"headers"],[52,19,61,17],[52,21,61,19],[53,14,61,21],[53,28,61,35],[53,30,61,37],[54,12,61,56],[54,13,61,57],[55,12,62,10,"body"],[55,16,62,14],[55,18,62,16,"JSON"],[55,22,62,20],[55,23,62,21,"stringify"],[55,32,62,30],[55,33,62,31],[56,14,62,33,"username"],[56,22,62,41],[56,24,62,43],[57,12,62,50],[57,13,62,51],[58,10,63,8],[58,11,63,9],[58,12,63,10],[59,10,64,8],[59,16,64,14,"data"],[59,20,64,18],[59,23,64,21],[59,29,64,27,"response"],[59,37,64,35],[59,38,64,36,"json"],[59,42,64,40],[59,43,64,41],[59,44,64,42],[60,10,65,8,"setUser"],[60,17,65,15],[60,18,65,16,"data"],[60,22,65,20],[60,23,65,21],[61,8,66,6],[61,9,66,7],[61,10,66,8],[61,17,66,15,"error"],[61,22,66,20],[61,24,66,22],[62,10,67,8,"console"],[62,17,67,15],[62,18,67,16,"error"],[62,23,67,21],[62,24,67,22],[62,46,67,44],[62,48,67,46,"error"],[62,53,67,51],[62,54,67,52],[63,8,68,6],[63,9,68,7],[63,18,68,16],[64,10,69,8,"setLoading"],[64,20,69,18],[64,21,69,19],[64,26,69,24],[64,27,69,25],[65,8,70,6],[66,6,71,4],[66,7,71,5],[67,6,72,4,"initUser"],[67,14,72,12],[67,15,72,13],[67,16,72,14],[68,4,73,2],[68,5,73,3],[68,7,73,5],[68,9,73,7],[68,10,73,8],[69,4,75,2],[69,24,76,4],[69,28,76,4,"_reactJsxDevRuntime"],[69,47,76,4],[69,48,76,4,"jsxDEV"],[69,54,76,4],[69,56,76,5,"UserContext"],[69,67,76,16],[69,68,76,17,"Provider"],[69,76,76,25],[70,6,76,26,"value"],[70,11,76,31],[70,13,76,33],[71,8,76,35,"user"],[71,12,76,39],[72,8,76,41,"loading"],[72,15,76,48],[73,8,76,50,"refreshUser"],[73,19,76,61],[74,8,76,63,"createUser"],[75,6,76,74],[75,7,76,76],[76,6,76,76,"children"],[76,14,76,76],[76,16,77,7,"children"],[77,4,77,15],[78,6,77,15,"fileName"],[78,14,77,15],[78,16,77,15,"_jsxFileName"],[78,28,77,15],[79,6,77,15,"lineNumber"],[79,16,77,15],[80,6,77,15,"columnNumber"],[80,18,77,15],[81,4,77,15],[81,11,78,26],[81,12,78,27],[82,2,80,0],[83,2,82,7],[83,11,82,16,"useUser"],[83,18,82,23,"useUser"],[83,19,82,23],[83,21,82,26],[84,4,83,2],[84,10,83,8,"context"],[84,17,83,15],[84,20,83,18],[84,24,83,18,"useContext"],[84,30,83,28],[84,31,83,28,"useContext"],[84,41,83,28],[84,43,83,29,"UserContext"],[84,54,83,40],[84,55,83,41],[85,4,84,2],[85,8,84,6,"context"],[85,15,84,13],[85,20,84,18,"undefined"],[85,29,84,27],[85,31,84,29],[86,6,85,4],[86,12,85,10],[86,16,85,14,"Error"],[86,21,85,19],[86,22,85,20],[86,66,85,64],[86,67,85,65],[87,4,86,2],[88,4,87,2],[88,11,87,9,"context"],[88,18,87,16],[89,2,88,0],[90,0,88,1],[90,3]],"functionMap":{"names":["<global>","UserProvider","createUser","refreshUser","useEffect$argument_0","initUser","useUser"],"mappings":"AAA;OCyB;qBCI;GDY;sBEE;GFS;YGE;qBCE;KDc;GHE;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}